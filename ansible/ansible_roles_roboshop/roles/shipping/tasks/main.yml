- name: install maven
  package:
    name: maven
    state: present
    update_cache: true

- name: app-setup
  import_module:
    name: common
    tasks_from: app-setup

- name: installing dependencies
  shell: mvn clean package
  args:
    chdir: /app

- name: rename shipping app file
  shell: mv target/shipping-1.0.jar shipping.jar

- name: copying service file
  copy:
    src: shipping.service
    dest: /etc/systemd/system/shipping.service

- name: service restart
  import_role:
    name: common
    tasks_from: service-start


